

# 3. 提高磁盘I/O速度的途径

# 4. 提高磁盘可靠性的技术

# 5. 数据一致性的控制

# 10. 磁盘的结构

![image-20210910171540227](http://aikaid-img.oss-cn-shanghai.aliyuncs.com/img/image-20210910171540227.png)

盘面：

磁道：磁盘的盘面被划分成一个个磁道

柱面：

扇区：一个磁道又被划分成一个个扇区，每个扇区就是一个“磁盘块”。各个扇区存放的数据量相同（如1KB）

---

可用（柱面号，盘面号，扇区号）来定位任意一个“磁盘块”。在“文件的物理结构”小节中，我们经常提到文件数据存放在外存中的几号块，这个块号就可以转换成（柱面号，盘面号，扇区号）的地址形式。

可根据该地址读取一个“块”

1. 根据“柱面号”移动磁臂，让磁头指向指定柱面；
2. 激活指定盘面对应的磁头；
3. 磁盘旋转的过程中，指定的扇区会从磁头下面划过，这样就完成了对指定扇区的读/写。

# 11. 磁盘调度算法

## 11.1 一次磁盘读写需要的时间

寻道时间：启动磁头臂，移动磁头到对应磁道所需要的时间.T=s+m*n

延迟时间：磁头定位到对应扇区所需要的时间：T= (1/r)*(1/2)

传输时间:假设转速是r，此次读写的字节数是b，每个磁道上的字节数是N ：T=（1/r)*(b/N)

## 11.2 调度算法

1. 先来先服务算法(FCFS):

> 优点：公平
>
> 缺点：如果磁道分散的话，则性能差

2. 最短寻找时间优先(SSTE)

> 优点：性能好，平均寻道时间短
>
> 缺点：可能有饥饿

3. 扫描算法(SCAN)

> 只有磁头移动到最内才往外移动，只有移动到最外侧才能往内移动
>
> 优点：性能好，平均寻道时间短，无饥饿
>
> 缺点：
>
> 1. 各个位置的平均响应时间不平均
> 2. 只有到达最边上才能改变方向，但是有时候处理完某一请求后，其外侧没有进程了，可以调转方向

4. 循环扫描算法(C-SCAN)

> 只有磁头移动到最内才往外移动，只有移动到最外侧才能往内移动，返回时直接快速移动到起始端，不处理任何请求
>
> 优点：比起SCAN，平均响应时间很平均
>
> 缺点：只有到达最边上才能改变方向，但是有时候处理完某一请求后，其外侧没有进程了，可以调转方向	

5. LOOK调度算法

> 在SCAN的基础上加上观察，如果在磁头移动方向没有别的请求了，就调转方向
>
> 优点：
>
> ​	比起SCAN进一步缩短了寻道时间

6. C-LOOL

> C-CSAN算法的改进，加上了LOOK

7



